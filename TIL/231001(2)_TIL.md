# ê°œë°œ í™˜ê²½ì— ë”°ë¼ ê°ê° ë‹¤ë¥´ê²Œ API Keyë¥¼ ê´€ë¦¬í•˜ëŠ” ë°©ë²•.

ê°œë°œ í™˜ê²½ì— ë”°ë¼ ê°ê° ë‹¤ë¥´ê²Œ API Keyë¥¼ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

## 1. plist ìƒì„±.

Debug, Production(Release) ëª¨ë“œì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ê°’ì„ ë°›ê¸° ìœ„í•´ plist 2ê°œë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.

<img src = "https://github.com/devKobe24/images/blob/main/%E1%84%83%E1%85%AE%E1%84%80%E1%85%A2%E1%84%91%E1%85%B5%E1%84%85%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3.png?raw=true"></br>

<img src = "https://github.com/devKobe24/images/blob/main/%E1%84%83%E1%85%AE%E1%84%80%E1%85%A2%E1%84%91%E1%85%B5%E1%84%85%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%B32.png?raw=true"></br>

## 2. ì½”ë“œ.

```swift
//  BaseEnvironment.swift
import Foundation

class BaseEnvironment {
    var dict: NSDictionary = NSDictionary()
    let enviromentName: String
    
    init(enviromentName: String) {
        self.enviromentName = enviromentName
        self.fetchPlist()
    }
}

extension BaseEnvironment {
    private func fetchPlist() {
        guard let filePath = Bundle.main.path(forResource: enviromentName, ofType: "plist"),
              let plist = NSDictionary(contentsOfFile: filePath) else {
            return
        }
        self.dict = plist
    }
}
```

```swift
//  APIKeyable.swift
protocol APIKeyable {
    var CLIENT_ID_TOKEN: String { get }
    var CLIENT_SECRET_TOKEN: String { get }
}
```

```swift
//  APIEnviroments.swift
enum APIEnviroments {
    case produceApiEnvironment
    case debugApiEnviroment
    case infoPropertyListEnviroment
    
    var name: String {
        switch self {
        case .produceApiEnvironment:
            return "PROD-API-TOKEN"
        case .debugApiEnviroment:
            return "DEBUG-API-TOKEN"
        case .infoPropertyListEnviroment:
            return "Info"
        }
    }
}
```

```swift
//  APIKeys.swift
import Foundation

enum APIKeys {
    case clientIdToken
    case clientSecretToken
    
    var name: String {
        switch self {
        case .clientIdToken:
            return "ClientIdToken"
        case .clientSecretToken:
            return "ClientSecretToken"
        }
    }
}
```

```swift
//  ProduceEnviroment.swift
import Foundation

final class ProduceEnviroment: BaseEnvironment, APIKeyable {
    
    init() {
        super.init(enviromentName: APIEnviroments.produceApiEnvironment.name)
    }
    
    var CLIENT_ID_TOKEN: String {
        guard let clientIdTokenKey = dict.object(forKey: APIKeys.clientIdToken.name) as? String else {
            return "ERROR"
        }
        return clientIdTokenKey
    }
    
    var CLIENT_SECRET_TOKEN: String {
        guard let clientSecretToken = dict.object(forKey: APIKeys.clientSecretToken.name) as? String else {
            return "ERROR"
        }
        return clientSecretToken
    }
}
```

```swift
//  DebugEnviroment.swift
final class DebugEnviroment: BaseEnvironment, APIKeyable {
    
    init() {
        super.init(enviromentName: APIEnviroments.debugApiEnviroment.name)
    }
    
    var CLIENT_ID_TOKEN: String {
        guard let clientIdTokenKey = dict.object(forKey: APIKeys.clientIdToken) as? String else {
            return "ERROR"
        }
        return clientIdTokenKey
    }
    
    var CLIENT_SECRET_TOKEN: String {
        guard let clientSecretToken = dict.object(forKey: APIKeys.clientSecretToken) as? String else {
            return "ERROR"
        }
        return clientSecretToken
    }
}
```

## 3. ì•± ë¸ë¦¬ê²Œì´íŠ¸ì—ì„œ ì „ì—­ ë³€ìˆ˜ ìƒì„±

ì•± ë¸ë¦¬ê²Œì´íŠ¸ class ë°”ê¹¥ìª½ì—ì„œ ì „ì—­ ë³€ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

<img src = "https://github.com/devKobe24/images/blob/main/%E1%84%8B%E1%85%A2%E1%86%B8%E1%84%83%E1%85%A6%E1%86%AF%E1%84%85%E1%85%B5%E1%84%80%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%B3%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%8B%E1%85%A7%E1%86%A8%E1%84%87%E1%85%A7%E1%86%AB%E1%84%89%E1%85%AE%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC.png?raw=true"></br>

## 4. ì‚¬ìš©

ì•± ë¸ë¦¬ê²Œì´íŠ¸ì— ë§Œë“¤ì–´ ë†“ì€ ì „ì—­ ë³€ìˆ˜ì¸ ENVë¡œ ì ‘ê·¼í•˜ì—¬ í˜¸ì¶œí•˜ë©´ ë©ë‹ˆë‹¤.

<img src = "https://github.com/devKobe24/images/blob/main/%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA.png?raw=true"></br>

<img src = "https://github.com/devKobe24/images/blob/main/%E1%84%8B%E1%85%A6%E1%84%83%E1%85%B5%E1%86%BA%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B5%E1%86%B7.png?raw=true"></br>

<img src = "https://github.com/devKobe24/images/blob/main/%E1%84%83%E1%85%B5%E1%84%87%E1%85%A5%E1%84%80%E1%85%B3%E1%84%86%E1%85%A9%E1%84%83%E1%85%B3.png?raw=true"></br>

<img src = "https://github.com/devKobe24/images/blob/main/%E1%84%83%E1%85%B5%E1%84%87%E1%85%A5%E1%84%80%E1%85%B3%E1%84%86%E1%85%A9%E1%84%83%E1%85%B3.png?raw=true"></br>

---

### ì°¸ê³  ìë£Œ

- [ğŸ¥ How To Store API Keys For Staging & Production Environments](https://www.youtube.com/watch?v=UhjyZOexSNc)
