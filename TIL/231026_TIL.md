# Chapter 1. 네트워크 기초(5)

## 2. 구조적 모델.

### 3️⃣ 프로토콜

프로토콜(Protocol)은 통신 시스템이 데이터를 교환하기 위해 사용하는 통신 규칙입니다.

OSI 7계층 모델에서는 각 계층에서 수행하는 프로토콜이 서로 역할을 분담하여 독립적으로 동작합니다.
- 따라서 계층 1에는 계층 1끼리 통신할 수 있는 프로토콜이 존재하고, 계층 2에는 계층 2끼리 통신할 수 있는 프로토콜이 존재합니다.

#### 프로토콜의 예

아래의 그림은 일반인이 스마트폰으로 통화하는 규칙을 보여주고 있습니다.

이러한 순서와 절차를 프로토콜이라 정의할 수 있습니다.

- 시간은 위에서 아래로 흐르고, 왼쪽의 발신자가 오른쪽의 수신자에게 통화를 시도하고 있습니다.
- 연결을 설정할 때는 항상 발신자의 요청에 의하여 시작되며, 수신자는 미리 연결 대기 상태에 있어야 합니다.
- 연결 설정은 상호 간의 합의 아래 이루어지지만, 종료는 한쪽의 일방적인 종결 선언으로도 가능합니다.

<img src = "https://github.com/devKobe24/images/blob/main/%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%AA%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%80%E1%85%A7%E1%86%AF%E1%84%8B%E1%85%B3%E1%86%AF%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%E1%84%80%E1%85%B2%E1%84%8E%E1%85%B5%E1%86%A8.png?raw=true">

1. 수신자는 스마트폰 전원을 켜서 발산자의 통화 요청보다 먼저 대기 상태에 있어야 합니다.
2. 발신자가 수신자의 전화번호를 누르면(또는 번호를 입력한 후 <통화> 버튼을 누르면)
3. 수신자의 스마트폰 벨이 울립니다.
4. 수신자가 <통화> 버튼을 눌러 전화를 받으면 연결이 설정됩니다.(수신자가 벨 소리를 무시하고 전화를 받지 않으면 연결되지 않으므로 연결 설정은 반드시 양자의 합의가 있어야 합니다.)
5. 일단 연결이 설정되면 연결이 해제되기 전까지 데이터를 주고받을 수 있습니다.
6. 연결 해제는 외형상 한쪽의 일방적인 종료로 이루어지지만
7. 실제로는 대화 과정에서 쌍방의 합의로 이루어집니다.

**실제 네트워크 프로토콜에서도 연결 해제를 한쪽의 일방적인 결정과 양자의 합의에 의한 결정으로 구분하여 설계합니다.**

#### 데이터 단위

네트워크 프로토콜을 사용해 데이터를 교환할 때는 먼저 데이터를 특정 형태로 규격화하는 작업이 필요합니다.

예를 들어, 우편물을 보낼 때 정해진 규격 봉투를 사용하는 것과 같은 원리입니다.

규격 봉투에 보내는 사람 주소, 받는 사람 주소 등을 규칙에 따라 기입하는 것처럼 네트워크에서도 데이터를 프로토콜에서 정의된 데이터 규격에 맞춰 묶어 주어야 합니다.

이와 같은 한 단위의 규격으로 묶인 전송 데이터를 데이터 단위라 합니다.

OSI 7계층 모델의 각 계층에서 규격화된 데이터에는 아래의 표와 같이 고유 명칭이 있습니다.

계층에 상관업시 사용할 때는 통칭하여 PDU(Protocol Data Unit)라 부릅니다.

<img src = "https://github.com/devKobe24/images/blob/main/OSI7%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%E1%84%8B%E1%85%B4%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%E1%84%87%E1%85%A7%E1%86%AF%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%83%E1%85%A1%E1%86%AB%E1%84%8B%E1%85%B1.png?raw=true">

- 데이터 단위 용어 중에서 네트워크 계층에서 정의된 패킷이 인터넷에서 가장 많이 인용되며, 데이터 링크 계층에서 사용되는 프레임도 중요합니다.

전송 계층에서 정의된 데이터그램은 가상 회선이라는 용어와 대비되면서 중요하게 다루어지기 때문에 이들 세 용어에 익숙해질 필요가 있습니다.
