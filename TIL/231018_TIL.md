# Designated and Convenience Initializers in Action(ì§€ì • ë° í¸ì˜ ì´ˆê¸°í™” ì‹¤í–‰).

ë‹¤ìŒ ì˜ˆì œì—ì„œëŠ” designated initializers(ì§€ì •ëœ ì´ˆê¸°í™”), convenience initializers(í¸ì˜ ì´ˆê¸°í™”) ë° automatic initializer(ìë™ ì´ˆê¸°í™”) ìƒì†(inheritance)ì´ ì‹¤í–‰ë˜ëŠ” ëª¨ìŠµì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

ì´ ì˜ˆì œì—ì„œëŠ” Food, RecipeIngredient ë° ShoppingListItemì´ë¼ëŠ” ì„¸ ê°€ì§€ í´ë˜ìŠ¤ì˜ ê³„ì¸µ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ê³  í•´ë‹¹ ì´ˆê¸°í™” í”„ë¡œê·¸ë¨ì´ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë°©ì‹ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

---

## 1ï¸âƒ£ Food í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°.

ê³„ì¸µ êµ¬ì¡°ì˜ ê¸°ë³¸ í´ë˜ìŠ¤ëŠ” Foodë¼ê³  í•˜ë©°, ì´ëŠ” ì‹í’ˆì˜ ì´ë¦„ì„ ìº¡ìŠí™”í•˜ëŠ” ê°„ë‹¨í•œ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
Food í´ë˜ìŠ¤ëŠ” nameì´ë¼ëŠ” ë‹¨ì¼ String ì†ì„±(Property)ì„ ë„ì…í•˜ê³  Food ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ë‘ ê°œì˜ ì´ˆê¸°í™” í”„ë¡œê·¸ë¨(initializers)ì„ ì œê³µí•©ë‹ˆë‹¤.

```swift
class Food {
    var name: String
    init(name: String) {
        self.name = name
    }
    convenience init() {
        self.init(name: "[Unnamed]")
    }
}
```

- ì•„ë˜ ê·¸ë¦¼ì€ Food í´ë˜ìŠ¤ì˜ ì´ˆê¸°í™” ì²´ì¸ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

<img src = "https://github.com/devKobe24/images/blob/main/FoodClassChain.png?raw=true"></br>

í´ë˜ìŠ¤ì—ëŠ” ê¸°ë³¸ ë©¤ë²„ì™€ì´ì¦ˆ ì´ˆê¸°í™”(default memberwise initializer)ê°€ ì—†ìœ¼ë¯€ë¡œ Food í´ë˜ìŠ¤ëŠ” nameì´ë¼ëŠ” ë‹¨ì¼ ì¸ìˆ˜(single argument)ë¥¼ ì·¨í•˜ëŠ” ì§€ì •ëœ ì´ˆê¸°í™”(designated initializer)ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
ì´ ì´ˆê¸°í™” í”„ë¡œê·¸ë¨(initializer)ì€ íŠ¹ì • nameì„ ê°€ì§„ ìƒˆë¡œìš´ Food ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ”ë° ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
let nameMeat = Food(name: "Bacon")
// nameMeat's name is "Bacon"
```

Food í´ë˜ìŠ¤ì˜ `init(name: String)` ì´ë‹ˆì…œë¼ì´ì €ëŠ” ì§€ì •ëœ ì´ë‹ˆì…œë¼ì´ì €(designated initializer)ë¡œ ì œê³µë©ë‹ˆë‹¤.
ì™œëƒí•˜ë©´ ìƒˆ Food ì¸ìŠ¤í„´ìŠ¤ì˜ ëª¨ë“  ì €ì¥ëœ ì†ì„±(stored property)ì´ ì™„ì „íˆ ì´ˆê¸°í™”ë˜ë„ë¡ ë³´ì¥í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
Food í´ë˜ìŠ¤ì—ëŠ” ìŠˆí¼í´ë˜ìŠ¤ê°€ ì—†ìœ¼ë¯€ë¡œ `init(name: String)` ì´ˆê¸°í™” í”„ë¡œê·¸ë¨(initializer)ì€ ì´ˆê¸°í™”ë¥¼ ì™„ë£Œí•˜ê¸° ìœ„í•´ `super.init()`ë¥¼ í˜¸ì¶œí•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

Food í´ë˜ìŠ¤ëŠ” ë˜í•œ ì¸ìˆ˜(arguments)ê°€ ì—†ëŠ” `convenience initializer(í¸ì˜ ì´ˆê¸°í™”)`, `init()`ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
`init()` ì´ˆê¸°í™” í”„ë¡œê·¸ë¨(initializer)ì€ ì´ë¦„ ê°’ì´ `[Unnamed]`ì¸ Food í´ë˜ìŠ¤ì˜ `init(name: String)`ì— ìœ„ì„(delegating)í•˜ì—¬ ìƒˆ ìŒì‹ì— ëŒ€í•œ default placeholder nameë¥¼ ì œê³µí•©ë‹ˆë‹¤.

```swift
let mysteryMeat = Food()
// mysteryMeat's name is "[Unnamed]"
```

---

## 2ï¸âƒ£ RecipeIngredient í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°.

ê³„ì¸µ êµ¬ì¡°ì˜ ë‘ ë²ˆì§¸ í´ë˜ìŠ¤ëŠ” `RecipeIngredient`ë¼ëŠ” `Food`ì˜ í•˜ìœ„ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
`RecipeIngredient` í´ë˜ìŠ¤ëŠ” ìš”ë¦¬ ë ˆì‹œí”¼ì˜ ì¬ë£Œë¥¼ ëª¨ë¸ë§í•©ë‹ˆë‹¤.
ì´ëŠ” `quantity`ë¼ëŠ” `Int`ì†ì„±(Foodì—ì„œ ìƒì†ë°›ì€ name ì†ì„±(property) ì™¸ì—ë„)ì„ ë„ì…í•˜ê³  `RecipeIngredient` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ë‘ ê°œì˜ ì´ˆê¸°í™” í”„ë¡œê·¸ë¨(`initializers`)ì„ ì •ì˜í•©ë‹ˆë‹¤.

```swift
class RecipeIngredient: Food {
    var quantity: Int
    init(name: String, quantity: Int) {
        self.quantity = quantiry
        super.init(name: name)
    }
    override convenience init(name: String) {
        self.init(name: name, quantity: 1)
    }
}
```

- ì•„ë˜ ê·¸ë¦¼ì€ RecipeIngredient í´ë˜ìŠ¤ì˜ ì´ˆê¸°í™” ì²´ì¸ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

<img src = "https://github.com/devKobe24/images/blob/main/RecipeIngredientClassChain.png?raw=true"></br>

`RecipeIngredient` í´ë˜ìŠ¤ì—ëŠ” ìƒˆë¡œìš´ `RecipeIngredient` ì¸ìŠ¤í„´ìŠ¤ì˜ ëª¨ë“  ì†ì„±(`Property`)ì„ ì±„ìš°ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë‹¨ì¼ ì§€ì • ì´ˆê¸°í™” í”„ë¡œê·¸ë¨(`single designated initializer`)ì¸ `init(name: String, amount: Int)`ê°€ ìˆìŠµë‹ˆë‹¤.
ì „ë‹¬ëœ `quantity` ì¸ìˆ˜(`argument`)ë¥¼ `RecipeIngredient`ì— ì˜í•´ ë„ì…ëœ ìœ ì¼í•œ ìƒˆ ì†ì„±(new property)ì¸ `quantity` ì†ì„±(property)ì— í• ë‹¹í•˜ëŠ” ê²ƒìœ¼ë¡œ ì‹œì‘ë©ë‹ˆë‹¤.
ê·¸ëŸ° ë‹¤ìŒ ì´ë‹ì…œë¼ì´ì €ëŠ” Food í´ë˜ìŠ¤ì˜ `init(name: String)` ì´ë‹ˆì…œë¼ì´ì €ê¹Œì§€ ìœ„ì„(`delegates`)í•©ë‹ˆë‹¤.
ì´ ê³¼ì •ì€ [Two-Phase Initialization](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/initialization/#Two-Phase-Initialization)ì˜ `safety check 1`ì„ ë§Œì¡±í•©ë‹ˆë‹¤.

`RecipeIngredient`ëŠ” `name` ë§Œìœ¼ë¡œ `RecipeIngredient` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” `convenience initializer(í¸ì˜ ì´ˆê¸°í™”)`ì¸ `init(name: String)`ë„ ì •ì˜í•©ë‹ˆë‹¤.
ì´ `convenience initializer`ëŠ” ëª…ì‹œì ì¸ quantity ì—†ì´ ìƒì„±ëœ `RecipeIngredient` ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•´ quantityì„ 1ë¡œ ê°€ì •í•©ë‹ˆë‹¤.
ì´ `convenience initializer` ì •ì˜ë¥¼ í†µí•´ `RecipeIngredient` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë” ë¹ ë¥´ê³  í¸ë¦¬í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆìœ¼ë©° ì—¬ëŸ¬ `single-quantity(ë‹¨ì¼ ìˆ˜ëŸ‰)` `RecipeIngredient` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ ì½”ë“œ ì¤‘ë³µì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ `convenience initializer`ëŠ” ë‹¨ìˆœíˆ í´ë˜ìŠ¤ì˜ ì§€ì •ëœ ì´ˆê¸°í™”ì— ìœ„ì„í•˜ì—¬ `quantity` ê°’ 1ì„ ì „ë‹¬í•©ë‹ˆë‹¤.

`RecipeIngredient`ì—ì„œ ì œê³µí•˜ëŠ” `init(name: String)` `convenience initializer(í¸ì˜ ì´ˆê¸°í™”)`ëŠ” `Food`ì˜ `init(name: String)` `designated initializer(ì§€ì • ì´ˆê¸°í™”)`ì™€ ë™ì¼í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
ì´ `convenience initializer(í¸ì˜ ì´ˆê¸°í™”)`ëŠ” ìƒìœ„ í´ë˜ìŠ¤(superclass)ì˜ `designated initializer(ì§€ì •ëœ ì´ˆê¸°í™”)`ë¥¼ ì¬ì •ì˜í•˜ê¸° ë•Œë¬¸ì— ì¬ì •ì˜ ìˆ˜ì •ì(`override modifier`)ë¡œ í‘œì‹œë˜ì–´ì•¼ í•©ë‹ˆë‹¤.([Initializer Inheritance and Overriding](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/initialization/#Initializer-Inheritance-and-Overriding)ì— ì„¤ëª…ëœ ëŒ€ë¡œ).

`RecipeIngredient`ëŠ” `convenience initializer(í¸ì˜ ì´ˆê¸°í™”)`ë¡œ `init(name: String)` ì´ˆê¸°í™”ë¥¼ ì œê³µí•˜ì§€ë§Œ ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  `RecipeIngredient`ëŠ” ìƒìœ„í´ë˜ìŠ¤ì˜ ëª¨ë“  `designated initializers(ì§€ì • ì´ˆê¸°í™”)`êµ¬í˜„ì„ ì œê³µí–ˆìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ `RecipeIngredient`ëŠ” ìƒìœ„ í´ë˜ìŠ¤ì˜ ëª¨ë“  `convenience initializers(í¸ì˜ ì´ˆê¸°í™”)`ë„ ìë™ìœ¼ë¡œ ìƒì†í•©ë‹ˆë‹¤.

ì´ ì˜ˆì—ì„œ `RecipeIngredient`ì˜ ìŠˆí¼ í´ë˜ìŠ¤ëŠ” `Food`ì´ë©°, ì—¬ê¸°ì—ëŠ” `init()`ë¼ëŠ” `ë‹¨ì¼ í¸ì˜ ì´ˆê¸°í™”(a single convenience initializer)`ê°€ ìˆìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ ì´ ì´ˆê¸°í™” í”„ë¡œê·¸ë¨ì€ `RecipeIngredient`ì— ì˜í•´ ìƒì†ë©ë‹ˆë‹¤.
`init()`ì˜ ìƒì†ëœ ë²„ì „ì€ `Food` ë²„ì „ì´ ì•„ë‹Œ `RecipeIngredient` ë²„ì „ì˜ `init(name: String)`ì— ìœ„ì„í•œë‹¤ëŠ” ì ì„ ì œì™¸í•˜ë©´ `Food` ë²„ì „ê³¼ ì •í™•íˆ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

- ì´ ì„¸ê°€ì§€ ì´ë‹ˆì…œë¼ì´ì €ëŠ” ëª¨ë‘ ìƒˆ `RecipeIngredient` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
let oneMysteryItem = RecipeIngredient()
let oneBacon = RecipeIngredient(name: "Bacon")
let sixEggs = RecipeIngredient(name: "Eggs", quantity: 6)
```

---

## 3ï¸âƒ£ ShoppingListItem í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°.

ê³„ì¸µ êµ¬ì¡°ì˜ ì„¸ ë²ˆì§¸ì´ì ë§ˆì§€ë§‰ í´ë˜ìŠ¤ëŠ” `ShoppingListItem`ì´ë¼ëŠ” `RecipeIngredient`ì˜ í•˜ìœ„ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
`ShoppingListItem` í´ë˜ìŠ¤ëŠ” `shopping list`ì— í‘œì‹œë˜ëŠ” `recipe ingredient`ë¥¼ ëª¨ë¸ë§í•©ë‹ˆë‹¤.

`ì‡¼í•‘ ëª©ë¡(shopping list)`ì˜ `ëª¨ë“  í•­ëª©(every item)`ì€ `"êµ¬ë§¤í•˜ì§€ ì•ŠìŒ(unpurchased)"`ìœ¼ë¡œ ì‹œì‘ë©ë‹ˆë‹¤.
ì´ ì‚¬ì‹¤ì„ í‘œí˜„í•˜ê¸° ìœ„í•´ `ShoppingListItem`ì€ ê¸°ë³¸ê°’ì´ `false`ì¸ `purchased(êµ¬ë§¤)`ë¼ëŠ” `Bool` ì†ì„±ì„ ë„ì…í•©ë‹ˆë‹¤.
`ShoppingListItem`ì€ ë˜í•œ `ShoppingListItem` ì¸ìŠ¤í„´ìŠ¤ì˜ í…ìŠ¤íŠ¸ ì„¤ëª…ì„ ì œê³µí•˜ëŠ” `computed description property(ê³„ì‚°ëœ ì„¤ëª… ì†ì„±)`ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```swift
class ShoppingListItem: RecipeIngredient {
    var purchased: Bool = false
    var description: String {
        var output = "\(quantity) x \(name)"
        output += purchased ? " âœ”" : " âœ˜"
        return output
    }
}
```

> NOTE ğŸ“
> `ShoppingListItem`ì€ êµ¬ë§¤ì— ëŒ€í•œ ì´ˆê¸° ê°’ì„ ì œê³µí•˜ê¸° ìœ„í•œ ì´ˆê¸°í™”ë¥¼ ì •ì˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
> ì™œëƒí•˜ë©´ ì‡¼í•‘ ëª©ë¡ì˜ í•­ëª©(ì—¬ê¸°ì— ëª¨ë¸ë§ëœ ëŒ€ë¡œ)ì€ í•­ìƒ êµ¬ë§¤ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ì‹œì‘ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ì†Œê°œí•˜ëŠ” ëª¨ë“  ì†ì„±ì— ëŒ€í•œ ê¸°ë³¸ê°’ì„ ì œê³µí•˜ê³  ì´ˆê¸°í™” í”„ë¡œê·¸ë¨ ìì²´ë¥¼ ì •ì˜í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— `ShoppingListItem`ì€ ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ëª¨ë“  `designated and convenience initializer(ì§€ì • ì´ˆê¸°í™” ë° í¸ì˜ ì´ˆê¸°í™”)`ë¥¼ ìë™ìœ¼ë¡œ ìƒì†í•©ë‹ˆë‹¤.

- ì•„ë˜ ê·¸ë¦¼ì€ ì„¸ í´ë˜ìŠ¤ ëª¨ë‘ì— ëŒ€í•œ ì „ì²´ ì´ˆê¸°í™” ì²´ì¸ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

<img src = "https://github.com/devKobe24/images/blob/main/initializersExample03~dark@2x.png?raw=true"></br>

ìƒì†ëœ ì´ë‹ˆì…œë¼ì´ì € ì„¸ ê°œë¥¼ ëª¨ë‘ ì‚¬ìš©í•˜ì—¬ ìƒˆ `ShoppingListItem` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
var breakfastList = [
    ShoppingListItem(),
    ShoppingListItem(name: "Bacon"),
    ShoppingListItem(name: "Eggs", quantity: 6),
]
breakfastList[0].name = "Orange juice"
breakfastList[0].purchased = true
for item in breakfastList {
    print(item.description)
}

// 1 x Orange juice âœ”
// 1 x Bacon âœ˜
// 6 x Eggs âœ˜
```

ì—¬ê¸°ì„œëŠ” ì„¸ ê°œì˜ ìƒˆë¡œìš´ `ShoppingListItem` ì¸ìŠ¤í„´ìŠ¤ë¥¼ í¬í•¨í•˜ëŠ” ë°°ì—´ ë¦¬í„°ëŸ´ì—ì„œ `breakfastList`ë¼ëŠ” ìƒˆ ë°°ì—´ì´ ìƒì„±ë©ë‹ˆë‹¤.
ë°°ì—´ì˜ ìœ í˜•ì€ `[ShoppingListItem]`ìœ¼ë¡œ ìœ ì¶”ë©ë‹ˆë‹¤.
ë°°ì—´ì´ ìƒì„±ëœ í›„ ë°°ì—´ ì‹œì‘ ë¶€ë¶„ì˜ `ShoppingListItem` ì´ë¦„ì´ `"[Unnamed]"`ì—ì„œ `"Orange juice"`ë¡œ ë³€ê²½ë˜ê³  êµ¬ë§¤ëœ ê²ƒìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.
ë°°ì—´ì˜ ê° í•­ëª©ì— ëŒ€í•œ ì„¤ëª…ì„ `print` í•˜ë©´ í•´ë‹¹ í•­ëª©ì˜ ê¸°ë³¸ ìƒíƒœê°€ ì˜ˆìƒëŒ€ë¡œ ì„¤ì •ë˜ì—ˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

- [Apple Docs - Initialization](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/initialization/#Designated-and-Convenience-Initializers-in-Action)
